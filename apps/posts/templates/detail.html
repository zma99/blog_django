{% extends 'base.html' %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}

<!-- Botones de acción -->
<div class="mt-10 text-left">
  <div class="flex flex-wrap gap-3">
    <a href="{% url 'index' %}" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition duration-200">
      ← Volver al inicio
    </a>

    {% if request.user.is_authenticated and request.user == post.author and request.user.profile.is_editor %}
      <a href="{% url 'posts:edit' post.pk %}" class="bg-yellow-400 hover:bg-yellow-500 text-white font-medium px-3 py-2 rounded text-sm">
        ✏️ Editar
      </a>
      <a href="{% url 'posts:delete' post.pk %}" class="bg-red-600 hover:bg-red-700 text-white font-medium px-3 py-2 rounded text-sm">
        🗑️ Eliminar
      </a>
    {% endif %}
  </div>
</div>

<div class="max-w-3xl mx-auto mt-10 bg-white rounded-lg shadow-lg p-6">

  <h1 class="text-4xl font-bold text-gray-800 mb-4">{{ post.title }}</h1>

  {% if post.cover %}
    <div class="mb-6">
      <img src="{{ post.cover.url }}" alt="Imagen de portada" class="w-full h-auto rounded-lg shadow-sm">
    </div>
  {% endif %}

  {% if post.abstract %}
    <p class="text-base text-gray-500 leading-relaxed mb-6 italic">{{ post.abstract|linebreaks }}</p>
  {% endif %}

  <hr class="border-gray-200 my-6">

  <article>
    <p class="text-lg text-gray-700 leading-relaxed whitespace-pre-line">{{ post.body }}</p>
  </article>

  <div class="flex justify-between items-center text-sm text-gray-400 mt-8">
    <span>Publicado el {{ post.creation_date|date:"d M Y" }}</span>
    {% if post.author %}
      <span>por {{ post.author.username }}</span>
    {% endif %}
  </div>
</div>
{% endblock %}